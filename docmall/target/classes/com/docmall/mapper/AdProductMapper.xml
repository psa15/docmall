<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.docmall.mapper.AdProductMapper">

	<!-- 1차 카테고리 정보 -->
	<select id="getCateList" resultType="com.docmall.domain.CategoryVO">
		
		SELECT
			CT_CODE, CT_P_CODE, CT_NAME
		FROM
			TBL_CATEGORY
		WHERE
			CT_P_CODE IS NULL
			
	</select>
	
	<!-- 2차 카테고리 정보 -->
	<select id="getSubCateList" parameterType="int" resultType="com.docmall.domain.CategoryVO">
		
		SELECT
			CT_CODE, CT_P_CODE, CT_NAME
		FROM
			TBL_CATEGORY
		WHERE
			CT_P_CODE =#{categoryCode}
			
	</select>
	
	<!-- 파일 업로드 정보 -->
	<insert id="productInsert">
	
		INSERT INTO 
			TBL_PRODUCT(P_NUM, F_CT_CODE, S_CT_CODE, P_NAME, P_COST, P_DISCOUNT,
						 P_COMPANY, P_IMAGE, P_AMOUNT, P_DETAIL, P_IMAGE_DATEFOLDER)
						 
		VALUES(SEQ_PRODUCT_NUM.nextval, #{f_ct_code}, #{s_ct_code}, #{p_name}, #{p_cost}, #{p_discount}, 
				#{p_company}, #{p_image}, #{p_amount}, #{p_detail}, #{p_image_dateFolder})
	
	</insert>
	
</mapper>