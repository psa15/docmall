
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기본 정보</title>
    <style>
        table, tr, td{
            border: 1px solid darkgray;

        }
        
        table td {
            height: 80%;
        }

        .title {

            background-color: lightgray;
        }


    </style> 
    <!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<body>
<h3> 기본 정보 </h3>
    <table>
        <tr>
            <td class="title"><p>아이디</p></td>
            <td>
            	<input type="text" name="userid" id="userid">
            	<button type="button">아이디 중복 확인</button>  
            	(영문 소문자, 숫자 4~16자)            
        </tr>
        <tr>
            <td class="title"><p>비밀번호</p></td>
            <td>
            	<input type="password" name="pass" id="pass"> 
            	영문/최소 1개의 숫자 또는 특수문자('~!@^*()-_+[]{}\:,.<>/)조합으로 8자 이상            
        </tr>
        <tr> 
            <td class="title"><p>비밀번호 확인</p></td>
            <td><input type="password" name="pass2" id="pass2"></td>
        </tr>
        <tr>
            <td class="title">이름</td>
            <td><input type="text" name="username" id="username"></td>            
        </tr>
        <tr>
            <td class="title"><p>연락처</p></td>
            <td>
            	<select>
            		<option value="010">010</option>
            		<option value="011">011</option>
            		<option value="02">02</option>
            	</select>
            	<input type="text" name="tel1" id="tel1">
            	<input type="text" name="tel2" id="tel2">
            </td>            
        </tr>
        <tr>
        	<td class="title"><p>비밀번호 확인시 질문</p></td>
            <td>
                <select name="question" id="question">
                    <option value="">========선택========</option>
                    <option value="별명">어렸을 때 별멍은?</option>
                    <option value="초등학교">다녔던 초등학교 이름은?</option>
                </select>
            </td>
        </tr>
        <tr>
        	<td class="title"><p>비밀번호 확인시 답변</p></td>
            <td>
                <input type="text" name="answer" id="answer">
            </td>
        </tr>
        <tr>
        	<td class="title"><p>성별</p></td>
            <td>
                <input type="radio" name="gender" id="gender1" value="남자">남자
                <input type="radio" name="gender" id="gender2" value="여자">여자
            </td>
        </tr>
        <tr>
        	<td class="title"><p>생년월일</p></td>
            <td>
                <select name="byear" id="byear">
                </select>
                <select name="bmonth" id="bmonth">
                    <option value="">월</option>
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>
                <select name="bday" id="bday">
                    <option value="">일</option>
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    <option value="05">05</option>
                    <option value="06">06</option>
                    <option value="07">07</option>
                    <option value="08">08</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>
            </td>
        </tr>
    </table>
    <br>
    <div>
        <input type="submit" id="btnjoin" value="회원가입">
    </div>
    <br>

    <script>
        $(document).ready(function(){

            let year = "<option value=''>년</option>";
            for(let i=1900; i<2022; i++ ) {
                year += "<option value='" + i + "''>" + i + "</option>"
            }
            $("#byear").append(year);

            let day = "";
            for(let i=10; i<=31; i++) {
                day += "<option value='" + i + "''>" + i + "</option>"
            }
            $("#bday").append(day);

            $("#btnjoin").on("click", function(e){
                e.preventDefault();

                //console.log("버튼 클릭");
                
                if($("#userid").val() == "") {
                    alert("아이디를 입력해 주세요");
                    $("#userid").focus();
                    return;
                }

                let pass = $("#pass").val()
                let passRgx = /^(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/;
                 if(!passRgx.test(pass)){
                	alert("비밀번호는 영문 소문자와 숫자와 특수문자로 구성된 8자리 이상으로 조합하세요");
                	$("#pass").focus();
                	return;
                }
                
                if($("#pass").val() == "") {
                    alert("비밀번호를 입력해 주세요");
                    $("#pass").focus();
                    return;
                }
                if($("#pass2").val() == "") {
                    alert("비밀번호 확인란을 입력해 주세요");
                    $("#pass2").focus();
                    return;
                }
                
                if($("#pass").val() != $("#pass2").val()) {
                    alert("비밀번호가 일치하지 않습니다. 다시 확인해 주세요");
                    $("#pass").focus();
                    return;
                }
                if($("#username").val() == "") {
                    alert("이름을 입력해 주세요");
                    $("#username").focus();
                    return;
                }
                
                let telRgx = /^\d{3,4}$/;
                let tel1 = $("#tel1").val();
                if(!telRgx.test(tel1)) {
                	alert("3자리 혹은 4자리의 숫자를 입력해 주세요");
                	$("#tel1").focus();
                	return;
                }
                if($("#tel1").val() == "") {
                    alert("연락처를 입력해 주세요");
                    $("#tel1").focus();
                    return;
                }
                
                let telRgx2 = /^\d{4}$/;
                let tel2 = $("#tel2").val();
                if(!telRgx2.test(tel2)) {
                	alert("4자리의 숫자를 입력해 주세요");
                	$("#tel2").focus();
                	return;
                }
                if($("#tel2").val() == "") {
                    alert("연락처를 마저 입력해 주세요");
                    $("#tel2").focus();
                    return;
                }

                if($("#question").val() == "") {
                    alert("비밀번호 확인시 질문을 선택해 주세요");
                    $("#question").focus();
                    return;
                }
                if($("#answer").val() == "") {
                    alert("비밀번호 확인시 답변을 입력해 주세요");
                    $("#answer").focus();
                    return;
                }

                if(!$("input[name='gender']:checked").is(':checked')) {
                    alert("성별을 선택해 주세요");
                    $("#gender1").focus();
                    return;
                }

                if($("#byear").val() == "") {
                    alert("태어난 년도를 선택해 주세요");
                    $("#byear").focus();
                    return;
                }
                if($("#bmonth").val() == "") {
                    alert("태어난 월을 선택해 주세요");
                    $("#bmonth").focus();
                    return;
                }
                if($("#bday").val() == "") {
                    alert("태어난 일을 선택해 주세요");
                    $("#bday").focus();
                    return;
                }
                
                alert("회원가입이 완료되었습니다");
            });
        });
    </script>
</body>
</html>